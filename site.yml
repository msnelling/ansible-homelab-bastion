---
- hosts: bastion.bakedbeans.com
  become: true
  tasks:
  - import_role:
      name: bastion
    vars:
      interfaces: "{{ network_interfaces }}"
      dns_servers: "{{ network_dns_servers }}"
      vpn_vlan_interface: "{{ network_vpn_vlan_interface }}"
      vpn_vlan_ipv4_gateway: "{{ network_vpn_vlan_ipv4_gateway }}"
      vpn_vlan_ipv4_network: "{{ network_vpn_vlan_ipv4_network }}"
    tags: [bastion]

  - import_role:
      name: nfs_mount
    vars:
      mount_path: "{{ nfs_mount_path }}"
      source: "{{ nfs_source }}"
      options: "{{ nfs_options }}"
    tags: [nfs]

  - import_role:
      name: transmission
    vars:
      download_path: "{{ transmission_download }}"
      settings: "{{ transmission_settings }}"
    tags: [transmission]
